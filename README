# Scrappy - Simple Stupid Spider base on Web::Scraper inspired by Dancer

#!/usr/bin/perl

use Scrappy qw/:syntax/;

init;
user_agent random_ua;
session _file => './session.yml';

get 'http://search.cpan.org/recent';

if (loaded) {
    var date    => grab '.datecell b';
    var modules => grab '#cpansearch li a', { name => 'TEXT', link => '@href' };
}

print var->{date}, "\n" ;
print $_->{name} , "\n" for list var->{modules};
